<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>System Prompt Bookmarklet Generator</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 800px;
      margin: 2rem auto;
      padding: 1rem;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 1.5rem;
    }
    textarea, input {
      width: 100%;
      padding: 0.75rem;
      font-family: monospace;
      margin-top: 0.5rem;
    }
    button {
      margin-top: 2rem;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      cursor: pointer;
    }
    code, .output {
      display: block;
      white-space: pre-wrap;
      word-break: break-word;
      background: #f0f0f0;
      padding: 1rem;
      margin-top: 1rem;
      border: 1px solid #ccc;
    }
    .bookmarklet-link {
      display: inline-block;
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      background: #007bff;
      color: white;
      text-decoration: none;
      border-radius: 4px;
    }
    details summary {
      cursor: pointer;
      font-weight: bold;
      margin-top: 2rem;
    }
    pre {
      background: #f9f9f9;
      border-left: 4px solid #007bff;
      padding: 1rem;
      overflow-x: auto;
    }
  </style>
</head>
<body>

  <h1 style="color: red;">DISCLAIMER</h1>
    <p style="color: red;">NOTE: BOOKMARKLETS CAN BE USED TO STEAL YOUR DATA. DO NOT TRUST RANDOM BOOKMARKLETS.</p>
  <p>I created this tool because I value an easy way for me to save my proxy settings and switch between various system prompts automatically. I have also added integration for API keys and proxy settings for my personal convenience. But note that if I were evil, I could steal your API key. This might not be a big deal for a free service like Chutes but if you were to enter a platform.deepseek.com or OpenAI api I could steal it. 
<br><br> Now. I am NOT evil and I have coded no functionality into this website or the Javascript bookmarklet to steal any of your data. But I do ask that you take your security online very seriously, and only enter sensitive information if you are confident that I am not a malicious actor. You can view the Javascript at the bottom of this page in a very readable and notated form, you can also access the HTML for this webpage on github.
<br><br> You can copy the contents of this webpage into ChatGPT and say "Is this safe? Can I trust this, is there anything malicious about this website?" and it will look at the code and see if it is safe. BUT I could also change the contents of the webpage to add malicious code, please be safe when utilizing bookmarklets.
							</p>

  <h1 style="color: black;">Janitor AI pre-saved proxy settings</h1>
<p> This webpage creates a Bookmarklet, and is primarily meant for switching out System Prompts, and saving configs. <br><br>
All of the following sections are optional, you can have a bookmarklet that just updates your system prompt, or have a bookmarklet that lets you switch from one proxy to another (i.e Gemini to Deepseek) at ease (May require you to refresh page after changing)
<br><br> Simply drag your bookmarklet to your bookmark bar, give it a name, and click on it WHEN THE PROXY SETTINGS ARE OPEN and it should update.</p>

<p>> <a href="https://github.com/Bimaadizi/bookmarklet/blob/main/index.html">CLICK HERE TO VIEW HTML CODE.</a> </p>

  <label for="prompt">System Prompt </label>
  <textarea id="prompt" placeholder="Paste your system prompt here..." rows="12"></textarea>

  <label for="model">Model Name (If you want to switch between models)</label>
  <input id="model" placeholder="e.g. deepseek-ai/DeepSeek-V3-0324" />

  <label for="proxyUrl">Proxy URL (If your URL for another proxy is somewhere else)</label>
  <input id="proxyUrl" placeholder="e.g. https://llm.chutes.ai/v1/chat/completions" />

  <label for="proxyKey">Proxy Key (If you're switching from one service to another, there's nothing malicious about this code but read the disclaimer and be careful when entering your API key somewhere.)</label>
  <input id="proxyKey" placeholder="Paste proxy key here" />

  <button onclick="generateBookmarklet()">Generate Bookmarklet</button>

  <div id="outputContainer" style="display:none;">
    <h2>Your Custom Bookmarklet</h2>
    <code id="bookmarkletCode"></code>
    <a id="bookmarkletLink" class="bookmarklet-link" href="#" target="_blank">üîñ Drag Me to Bookmarks!</a>
  </div>

<details>
  <summary>üîç Show Code Explanation (Click to expand)</summary>
  <pre><code>
// Bookmarklet starts as an IIFE (Immediately Invoked Function Expression)
(function(){
  // Helper function to safely set input values for React/Chakra-controlled components
  function setReactInputValue(el, value) {
    const lastValue = el.value;     // Save old value
    el.focus();                     // Focus the input
    el.value = value;               // Set new value
    const tracker = el._valueTracker;
    if (tracker) tracker.setValue(lastValue);  // Update React's internal tracker
    el.dispatchEvent(new Event("input", { bubbles: true })); // Fire React-friendly input event
    el.blur();                      // Blur to finalize the update
  }

  // Set the prompt text (injected into .css-15dwgqn)
  const p = "<<< YOUR CUSTOM PROMPT GOES HERE >>>";

  // Configuration for other input fields, keyed by their placeholder text
  const c = {
    "model": "<<< MODEL VALUE >>>",
    "https://url.com/v1": "<<< PROXY URL >>>",
    "Some reverse proxy key, do not put OpenAI API key here": "<<< PROXY KEY >>>"
  };

  // Track how many changes were successfully made
  let changes = 0;

  // Try to update the system prompt field
  const t = document.querySelector(".css-15dwgqn textarea, .css-15dwgqn");
  if (t) {
    setReactInputValue(t, p);
    changes++;
  }

  // Loop through Chakra UI inputs and update values based on placeholder
  document.querySelectorAll(".chakra-input").forEach(input => {
    const placeholder = input.getAttribute("placeholder");
    if (c[placeholder]) {
      setReactInputValue(input, c[placeholder]);
      changes++;
    }
  });

  // Notify user if updates were made or not
  if (changes > 0) {
    alert("‚úÖ Prompt and config fields injected successfully.");
  } else {
    alert("‚ö†Ô∏è No matching fields found on the page.");
  }
})();
  </code></pre>
</details>


<script>
  function escapeJS(str) {
    return str
      .replace(/\\/g, "\\\\")
      .replace(/`/g, "\\`")
      .replace(/\$/g, "\\$")
      .replace(/\n/g, "\\n");
  }

  function generateBookmarklet() {
    const prompt = escapeJS(document.getElementById("prompt").value.trim());
    const model = document.getElementById("model").value.trim();
    const proxyUrl = document.getElementById("proxyUrl").value.trim();
    const proxyKey = document.getElementById("proxyKey").value.trim();

    const bookmarklet = `javascript:(function(){
      function setReactInputValue(el,v){
        const l=el.value;
        el.focus();
        el.value=v;
        const t=el._valueTracker;
        if(t)t.setValue(l);
        el.dispatchEvent(new Event("input",{bubbles:!0}));
        el.blur();
      }
      const p=\`${prompt}\`;
      const c={
        "model":"${model}",
        "https://url.com/v1":"${proxyUrl}",
        "Some reverse proxy key, do not put OpenAI API key here":"${proxyKey}"
      };
      let changes=0;
      const t=document.querySelector(".css-15dwgqn textarea, .css-15dwgqn");
      if(t){
        setReactInputValue(t,p);
        changes++;
      }
      document.querySelectorAll(".chakra-input").forEach(i=>{
        const h=i.getAttribute("placeholder");
        if(c[h]){
          setReactInputValue(i,c[h]);
          changes++;
        }
      });
      if(changes>0){
        alert("‚úÖ Prompt and config fields injected successfully.");
      }else{
        alert("‚ö†Ô∏è No matching fields found on the page.");
      }
    })();`;

    document.getElementById("bookmarkletCode").textContent = bookmarklet;
    document.getElementById("bookmarkletLink").href = bookmarklet;
    document.getElementById("outputContainer").style.display = "block";
  }
</script>

</body>
</html>
